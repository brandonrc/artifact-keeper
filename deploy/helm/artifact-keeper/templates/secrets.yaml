{{/*
=============================================================================
EXAMPLE CONFIGURATION - Getting Started Template
=============================================================================
This file is provided as a starting point for deployments. It should be
reviewed and modified to match your specific infrastructure requirements,
security policies, and operational needs before use in production.
=============================================================================
*/}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "artifact-keeper.fullname" . }}-secrets
  labels:
    {{- include "artifact-keeper.labels" . | nindent 4 }}
type: Opaque
stringData:
  JWT_SECRET: {{ .Values.secrets.jwtSecret | quote }}
  {{- if .Values.postgres.enabled }}
  POSTGRES_PASSWORD: {{ .Values.postgres.auth.password | quote }}
  DATABASE_URL: {{ include "artifact-keeper.databaseUrl" . | quote }}
  {{- else if not .Values.externalDatabase.existingSecret }}
  POSTGRES_PASSWORD: {{ .Values.externalDatabase.password | quote }}
  DATABASE_URL: {{ include "artifact-keeper.databaseUrl" . | quote }}
  {{- end }}
  S3_ACCESS_KEY: {{ .Values.secrets.s3AccessKey | quote }}
  S3_SECRET_KEY: {{ .Values.secrets.s3SecretKey | quote }}
